<!DOCTYPE html>

<html>
<head>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/canvasjs/1.7.0/canvasjs.min.js" type="text/javascript">
	</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" type="text/javascript">
	</script>
	<script type="text/javascript">
	   var connectionData = {}
	   var chart = {}
	   setInterval( $.getJSON('/connectionData.json', function (newData) { chart.options.data = newData; chart.render() }), 60 * 1000 * 5 )
	   $(document).ready(function() {
	     $.getJSON( '/connectionData.json', function (data) { connectionData = data; } ).done( function () {
	        chart = new CanvasJS.Chart('chartContainer',
	       {
               zoomEnabled: true, 
	           toolTip: {
	               shared: true,
	               contentFormatter: function(e){
	                   var str = '';
	                   for (var i = 0; i < e.entries.length; i++){
	                       var  temp = e.entries[i].dataSeries.name + ' <strong>'+  e.entries[i].dataPoint.y + '<\/strong> ' + e.entries[i].dataSeries._options.unit + '<br/>' ; 
	                       str = str.concat(temp);
	                   }
	                   return (str);
	               }
	           },
	         title:{ text: 'Connection Info (~30 days)'  },
	         data: connectionData
	       });
	       chart.render();
	     });
	 });
	</script>

	<title>
	</title>
</head>

<body>
	<div id="chartContainer" style="height: 100%; width: 100%;">
	</div>
</body>
</html>